(function(f,O){function la(d,b){var l,m,A,k,ga,v,B,C,J,ha,N,P,ma,W,na,K,Q;function u(a,oa,X){if(D&&(!oa||X)){var d=pa(a);L?(a=j[d.centerItem].offCenter,F&&g.activate(d.centerItem,1)):a>c.min&&a<c.max&&(a=j[d.firstItem].offStart)}"slidee"===oa&&b.elasticBounds&&!X?a>c.max?a=c.max+(a-c.max)/6:a<c.min&&(a=c.min+(a-c.min)/6):a=G(a,c.min,c.max);N=+new Date;P=0;ma=c.cur;W=a;na=a-c.cur;Q=(K=oa)&&!X;c.dest=a;!Q&&!Y&&g.cycle();f.extend(e,pa(void 0));fa();Z[0]&&H.page!==e.activePage&&(H.page=e.activePage,Z.removeClass(b.activeClass).eq(e.activePage).addClass(b.activeClass));
a!==c.cur&&!$&&qa()}function qa(){$?((Q?"slidee"===K:33>b.speed)?c.cur=W:Q&&"handle"===K?c.cur+=(W-c.cur)*b.syncFactor:(P=Math.min(+new Date-N,b.speed),c.cur=ma+na*jQuery.easing[b.easing](P/b.speed,P,0,1,b.speed)),W===Math.round(c.cur)&&(Q||P>=b.speed)?(c.cur=c.dest,$=0,K||p.trigger(s+":moveEnd",[c,q,e])):$=ia(qa),p.trigger(s+":move",[c,q,e]),R?h[0].style[R]=(b.horizontal?"translateX":"translateY")+"("+-c.cur+"px)":h[0].style[b.horizontal?"left":"top"]=-Math.round(c.cur)+"px",x&&(t.cur=c.min===c.max?
0:(("handle"===K?c.dest:c.cur)-c.min)/(c.max-c.min)*t.max,t.cur=G(Math.round(t.cur),t.min,t.max),H.hPos!==t.cur&&(H.hPos=t.cur,R?x[0].style[R]=(b.horizontal?"translateX":"translateY")+"("+t.cur+"px)":x[0].style[b.horizontal?"left":"top"]=t.cur+"px"))):($=ia(qa),K||p.trigger(s+":moveStart",[c,q,e]))}function aa(a){return ba(a)?G(a,0,j.length-1):a===O?-1:q.index(a)}function S(a,b){return parseInt(a.css(b),10)}function pa(a){a=G(ba(a)?a:c.dest,c.min,c.max);for(var b={},e=F?0:y/2,d=0,f=w.length;d<f;d++){if(a>=
c.max||d===w.length-1){b.activePage=w.length-1;break}if(a<=w[d]+e){b.activePage=d;break}}if(D){for(var f=d=e=!1,g=0,l=j.length;g<l;g++){!1===e&&a<=j[g].offStart&&(e=g);!1===f&&a-j[g].size/2<=j[g].offCenter&&(f=g);if(g===j.length-1||!1===d&&a<j[g+1].offEnd)d=g;if(!1!==d)break}b.firstItem=ba(e)?e:0;b.centerItem=ba(f)?f:b.firstItem;b.lastItem=ba(d)?d:b.centerItem}return b}function fa(){if(D){var a=0===e.activeItem,d=e.activeItem>=j.length-1,f=a?"first":d?"last":"middle";H.itemsButtonState!==f&&(H.itemsButtonState=
f,T.is("button,input")&&T.prop("disabled",a),U.is("button,input")&&U.prop("disabled",d),T[a?"removeClass":"addClass"](b.disabledClass),U[d?"removeClass":"addClass"](b.disabledClass))}Z[0]&&(a=c.dest<=c.min,d=c.dest>=c.max,f=a?"first":d?"last":"middle",H.pagesButtonState!==f&&(H.pagesButtonState=f,ca.is("button,input")&&ca.prop("disabled",a),da.is("button,input")&&da.prop("disabled",d),ca[a?"removeClass":"addClass"](b.disabledClass),da[d?"removeClass":"addClass"](b.disabledClass)))}function ra(a){return Math.round(G(a,
t.min,t.max)/t.max*(c.max-c.min))+c.min}function sa(a){if(1===a.which){z(a);var d=a.data.src,e="slidee"===d;l=d;A=m=0;k=b.horizontal?a.clientX:a.clientY;ga=e?c.cur:t.cur;v=+new Date;B=0;C=e?-k:-t.cur;J=e?document[b.horizontal?"width":"height"]-k:t.max-t.cur;ha=f(a.target);(e?h:x).addClass(b.draggedClass);ja.on(ta,ua)}}function ua(a){A="mouseup"===a.type;B=G((b.horizontal?a.clientX:a.clientY)-k,C,J);if(!m&&10<Math.abs(B)||"handle"===l)m=1,"slidee"===l&&(ka=1),g.pause(1),ha.on("click",function X(a){z(a,
1);"slidee"===l&&(ka=0);ha.off("click",X)}),p.trigger(s+":moveStart",[c,q,e,l]);m&&(z(a),A&&("slidee"===l&&33<b.speed)&&(B+=200*B/(+new Date-v)),u("slidee"===l?Math.round(ga-B):ra(ga+B),l,A));A&&(ja.off(ta,ua),("slidee"===l?h:x).removeClass(b.draggedClass),p.trigger(s+":moveEnd",[c,q,e,l]))}var g=this,p=f(d),h=p.children().eq(0),y=0,r=0,c={cur:0,dest:0,max:0,min:0},E=f(b.scrollBar).eq(0),x=E.length?E.children().eq(0):0,ea=0,M=0,t={cur:0,max:0,min:0},V=f(b.pagesBar),Z=0,w=[],va="smart"===b.itemNav,
F="forceCentered"===b.itemNav,L="centered"===b.itemNav||F,D="basic"===b.itemNav||va||L||F,ja=f(document),q=0,j=[],e={firstItem:0,lastItem:1,centerItem:1,activeItem:-1,activePage:0,items:0,pages:0},wa=b.scrollSource?f(b.scrollSource):p,la=b.dragSource?f(b.dragSource):p,T=f(b.prev),U=f(b.next),ca=f(b.prevPage),da=f(b.nextPage),H={};ha=J=C=B=v=ga=k=A=m=l=Q=K=na=W=ma=P=N=void 0;var ta="mousemove."+n+" mouseup."+n,$=0,I=0,Y=0,ka=0,xa=this.reload=function(){var a=0,d=f.extend({},c);y=b.horizontal?p.width():
p.height();ea=b.horizontal?E.width():E.height();r=b.horizontal?h.outerWidth():h.outerHeight();c.min=0;c.max=Math.max(r-y,0);H={};if(D){q=h.children(":visible");e.items=q.length;j=[];w=[];var l=S(h,b.horizontal?"paddingLeft":"paddingTop"),n=S(h,b.horizontal?"paddingRight":"paddingBottom"),m=S(q,b.horizontal?"marginLeft":"marginTop"),k=S(q.slice(-1),b.horizontal?"marginRight":"marginBottom"),v=0,z="none"!==q.css("float"),a=m?0:k;r=0;q.each(function(a,c){var d=f(c),e=d[b.horizontal?"outerWidth":"outerHeight"](!0),
g=S(d,b.horizontal?"marginLeft":"marginTop"),d=S(d,b.horizontal?"marginRight":"marginBottom"),h={size:e,offStart:r-(!a||b.horizontal?0:g),offCenter:r-Math.round(y/2-e/2),offEnd:r-y+e-(m?0:d)};a||(v=-(F?Math.round(y/2-e/2):0)+l,r+=l);r+=e;!b.horizontal&&!z&&d&&(g&&0<a)&&(r-=Math.min(g,d));a===q.length-1&&(r+=n);j.push(h)});h[0].style[b.horizontal?"width":"height"]=r+"px";r-=a;c.min=v;c.max=F?j[j.length-1].offCenter:Math.max(r-y,0);e.activeItem>=j.length?g.activate(j.length-1):1===j.length&&q.eq(e.activeItem).addClass(b.activeClass)}f.extend(e,
pa(void 0));x&&(M=b.dynamicHandle?Math.round(ea*y/r):x[b.horizontal?"outerWidth":"outerHeight"](),b.dynamicHandle&&(M=G(M,b.minHandleSize,ea),x[0].style[b.horizontal?"width":"height"]=M+"px"),t.max=ea-M);var A=0,k="",C=0;if(F)w=f.map(j,function(a){return a.offCenter});else for(;A-y<c.max;){var B=Math.min(c.max,A);w.push(B);A+=y;if(A>c.max&&D&&c.max-B<(j[j.length-1].size-a)/2){w[w.length-1]=c.max;break}}if(V[0]){for(a=0;a<w.length;a++)k+=b.pageBuilder(C++);Z=f(k).appendTo(V.empty())}u(G(c.dest,c.min,
c.max));e.pages=w.length;e.slideeSize=r;e.frameSize=y;e.sbSize=ea;e.handleSize=M;p.trigger(s+":load",[f.extend({},c,{old:d}),q,e])};this.prev=function(){g.activate(e.activeItem-1)};this.next=function(){g.activate(e.activeItem+1)};this.prevPage=function(){g.activatePage(e.activePage-1)};this.nextPage=function(){g.activatePage(e.activePage+1)};this.toStart=function(a){a===O?u(c.min):D?(a=aa(a),-1!==a&&!L&&u(j[a].offStart)):(a=h.find(a).eq(0),f.contains(h[0],a[0])&&u(b.horizontal?a.offset().left-h.offset().left:
a.offset().top-h.offset().top))};this.toEnd=function(a){if(a===O)u(c.max);else if(D)a=aa(a),-1!==a&&!L&&u(j[a].offEnd);else if(a=h.find(a).eq(0),f.contains(h[0],a[0])){var d=b.horizontal?a.offset().left-h.offset().left:a.offset().top-h.offset().top;u(d-y+a[b.horizontal?"outerWidth":"outerHeight"]())}};this.toCenter=function(a){if(a===O)u(Math.round(c.max/2+c.min/2));else if(D)a=aa(a),-1!==a&&u(j[a].offCenter);else if(a=h.find(a).eq(0),a[0]){var d=b.horizontal?a.offset().left-h.offset().left:a.offset().top-
h.offset().top;u(d-y/2+a[b.horizontal?"outerWidth":"outerHeight"]()/2)}};this.activate=function(a,d){if(D&&a!==O){var c=aa(a),f=e.activeItem;e.activeItem=c;q.removeClass(b.activeClass).eq(c).addClass(b.activeClass);fa();c!==f&&p.trigger(s+":active",[q.eq(c)]);d||(L?g.toCenter(c):va&&(c>=e.lastItem?g.toStart(c):c<=e.firstItem?g.toEnd(c):g.cycle()))}};this.activatePage=function(a){a=G(a,0,w.length-1);u(w[a])};this.cycle=function(a){if(b.cycleBy&&b.cycleInterval&&!("items"===b.cycleBy&&!j[0]||a&&Y))Y=
0,I?I=clearTimeout(I):p.trigger(s+":cycleStart",[c,q,e]),I=setTimeout(function(){switch(b.cycleBy){case "items":g.activate(e.activeItem>=j.length-1?0:e.activeItem+1);break;case "pages":g.activatePage(e.activePage>=w.length-1?0:e.activePage+1)}p.trigger(s+":cycle",[c,q,e])},b.cycleInterval)};this.pause=function(a){a||(Y=!0);I&&(I=clearTimeout(I),p.trigger(s+":cyclePause",[c,q,e]))};this.toggle=function(){g[I?"pause":"cycle"]()};this.set=function(a,c){f.isPlainObject(a)?f.extend(b,a):b.hasOwnProperty(a)&&
(b[a]=c)};this.destroy=function(){p.add(ja).add(h).add(wa).add(x).add(E).add(V).add(T).add(U).add(ca).add(da).unbind("."+n);h.add(x).css(b.horizontal?"left":"top",0);T.add(U).removeClass(b.disabledClass);V.empty();f.removeData(d,n)};b=f.extend({},f.fn[s].defaults,b);p.css("overflow","hidden");"static"===p.css("position")&&p.css("position","relative");"static"===E.css("position")&&E.css("position","relative");h.add(x).css(f.extend({position:"absolute"},b.horizontal?{left:0}:{top:0}));xa();D?g.activate(b.startAt):
u(b.startAt);b.scrollBy&&wa.bind("DOMMouseScroll."+n+" mousewheel."+n,function(a){if(c.min!==c.max){z(a,1);a=a.originalEvent;var d=0;a.wheelDelta&&(d=0>a.wheelDelta/120);a.detail&&(d=0>-a.detail/3);D?(a=aa((L?F?e.activeItem:e.centerItem:e.firstItem)+(d?b.scrollBy:-b.scrollBy)),g[L?F?"activate":"toCenter":"toStart"](a)):u(c.dest+(d?b.scrollBy:-b.scrollBy))}});if(b.clickBar&&E[0])E.on("click."+n,function(a){1===a.which&&(z(a),u(ra((b.horizontal?a.clientX-E.offset().left:a.clientY-E.offset().top)-M/
2)))});b.keyboardNav&&ja.bind("keydown."+n,function(a){switch(a.which){case b.horizontal?37:38:z(a);g[b.keyboardNavByPages?"prevPage":"prev"]();break;case b.horizontal?39:40:z(a),g[b.keyboardNavByPages?"nextPage":"next"]()}});if(b.prev)T.on("click."+n,function(a){z(a);g.prev()});if(b.next)U.on("click."+n,function(a){z(a);g.next()});if(b.prevPage)ca.on("click."+n,function(a){z(a);g.prevPage()});if(b.nextPage)da.on("click."+n,function(a){z(a);g.nextPage()});h.on("click."+n,"*",function(a){1===a.which&&
(a.target.parentNode===a.delegateTarget&&!ka)&&g.activate(this);ka=0});if(V[0])V.on("click."+n,"*",function(){g.activatePage(Z.index(this))});if(b.dragContent)la.on("mousedown."+n,{src:"slidee"},sa);if(b.dragHandle&&x)x.on("mousedown."+n,{src:"handle"},sa);if(b.cycleBy){if(b.pauseOnHover)p.on("mouseenter."+n+" mouseleave."+n,function(a){if(!Y)g["mouseenter"===a.type?"pause":"cycle"](1)});g[b.startPaused?"pause":"cycle"]()}}function z(d,b){d=d||window.event;d.preventDefault?d.preventDefault():d.returnValue=
!1;b&&(d.stopPropagation?d.stopPropagation():d.cancelBubble=!0)}function ba(d){return!isNaN(parseFloat(d))&&isFinite(d)}function G(d,b,f){return d<b?b:d>f?f:d}for(var s="sly",n=s,k=window.cancelAnimationFrame||window.cancelRequestAnimationFrame,ia=window.requestAnimationFrame,R,J=window,C=["moz","webkit","o"],fa=0,m=0,N=C.length;m<N&&!k;++m)ia=(k=J[C[m]+"CancelAnimationFrame"]||J[C[m]+"CancelRequestAnimationFrame"])&&J[C[m]+"RequestAnimationFrame"];k||(ia=function(d){var b=+new Date,f=Math.max(0,
16-(b-fa));fa=b+f;return J.setTimeout(function(){d(b+f)},f)},k=function(d){clearTimeout(d)});k=["transform","webkitTransform","msTransform"];C=document.createElement("div");m=0;for(N=k.length;m<N&&!R;m++)C.style[k[m]]!==O&&(R=k[m]);f.fn[s]=function(d,b){var l=!1,k,m;f.isPlainObject(d)||("string"===typeof d||!1===d?(l=!1===d?"destroy":d,k=arguments,Array.prototype.shift.call(k)):!0===d&&(b=d),d={});this.each(function(b,s){var v=f.data(s,n);!v&&!l?v=f.data(s,n,new la(s,d)):v&&l&&v[l]&&v[l].apply(v,
k);m||(m=v)});return!l&&b?m:this};f.fn[s].defaults={horizontal:0,itemNav:null,scrollBar:null,dragHandle:0,dynamicHandle:0,minHandleSize:50,clickBar:0,syncFactor:0.5,pagesBar:null,pageBuilder:function(d){return"<li>"+(d+1)+"</li>"},prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5E3,pauseOnHover:0,startPaused:0,scrollBy:0,dragContent:0,elasticBounds:0,speed:0,easing:"swing",scrollSource:null,dragSource:null,startAt:0,keyboardNav:0,keyboardNavByPages:0,draggedClass:"dragged",
activeClass:"active",disabledClass:"disabled"}})(jQuery);
